
### Git 分支

**几乎每一种版本控制系统都以某种形式支持分支。**使用分支意味着你可以从开发主线上分离开来，然后在不影响主线的同时继续工作。**有人把 Git 的分支模型称为“必杀技特性”，**而正是因为它，将 Git 从版本控制系统家族里区分出来。Git 有何特别之处呢？Git 的分支可谓是难以置信的**轻量级**，它的新建操作几乎可以在瞬间完成，并且在不同分支间切换起来也差不多一样快。和许多其他版本控制系统不同，**Git 鼓励在工作流程中频繁使用分支与合并**，哪怕一天之内进行许多次都没有关系。理解分支的概念并熟练运用后，你才会意识到为什么 Git 是一个如此强大而独特的工具，并从此真正改变你的开发方式。

*我也暂时还没理解，前几章我也没好好看，这章开始要好好看了。*

#### 何谓分支

- - -

Git 是如何储存数据的。Git 保存的**不是文件差异或者变化量，而只是一系列文件快照。**   
Git提交时，会保存一个提交(commit)对象，该对象包含一个指向暂存内容快照的指针，包含了本次提交的作者等相关附属信息，包含零个或多个指向该提交对象的父对象指针：首次提交是没有直接祖先的，普通提交有一个祖先，由两个或多个分支合并产生的提交则有多个祖先。   

假设在工作目录中有三个文件，将它们暂存后提交。暂存操作会对每一个文件计算校验和（即第一章中提到的 SHA-1 哈希字串），然后把当前版本的文件快照保存到 Git 仓库中（Git 使用 blob 类型的对象存储这些快照），并将校验和加入暂存区域:


```bash
$ git add README test.rb LICENSE
$ git commit -m 'initial commit of my project'
```

> 1. git commit 新建一个提交对象前，Git 会先计算每一个子目录（本例中就是项目根目录）的校验和   
> 2. 在 Git 仓库中将这些目录保存为树（tree）对象
> 3. Git 创建的提交对象，除了包含相关提交信息以外，还包含着指向这个树对象（项目根目录）的指针



![单个提交对象在仓库中的数据结构](http://docs.pythontab.com/github/gitbook/_images/18333fig0301-tn.png)















[返回目录](https://github.com/wdyggh/note)
